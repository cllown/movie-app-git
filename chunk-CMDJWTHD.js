import{Da as Y,Ea as q,Fa as G,J as V,N as W}from"./chunk-2B4JOGA3.js";import{$ as P,Bb as T,Cb as j,Fa as n,G as h,Ga as e,Ha as O,I as b,Ia as S,Ja as w,La as y,Ma as E,Na as x,Ob as z,Qa as k,T as M,Wa as D,Xa as t,Ya as L,Za as c,_ as C,cb as R,ec as A,h as _,ia as I,kb as d,la as a,lb as g,ma as u,nb as $,oc as F,tc as N,uc as U,w as f,wa as v,ya as l,yb as B}from"./chunk-W7SHUFBV.js";function J(p,o){if(p&1){let r=y();S(0),n(1,"div",3)(2,"div",4),O(3,"img",5),e(),n(4,"div",6)(5,"h2",7),t(6),e(),n(7,"p")(8,"strong"),t(9,"Release Date:"),e(),t(10),e(),n(11,"p")(12,"strong"),t(13,"Rating:"),e(),t(14),d(15,"ratingRounding"),e(),n(16,"p")(17,"strong"),t(18,"Description:"),e(),t(19),e(),n(20,"p")(21,"strong"),t(22,"Original Language:"),e(),t(23),e(),n(24,"p-button",8),d(25,"async"),E("click",function(){let i=C(r).ngIf,m=x();return P(m.onWatch(i.id))}),e()()(),w()}if(p&2){let r=o.ngIf,s=x();a(3),k("alt",r.title),l("src","https://image.tmdb.org/t/p/w500"+r.backdrop_path,I),a(3),L(r.title),a(4),c(" ",r.release_date,""),a(4),c(" ",g(15,8,r.vote_average),""),a(5),c(" ",r.overview,""),a(4),c(" ",r.original_language,""),a(),l("disabled",!g(25,10,s.isLoggedIn$))}}function K(p,o){p&1&&(n(0,"p"),t(1,"Loading..."),e())}var me=(()=>{let o=class o{constructor(s,i){this.store=s,this.route=i}ngOnInit(){this.isLoggedIn$=this.store.select(N),this.movie$=this.store.select(F),this.isSubscribed$=this.store.select(U)}onWatch(s){this.isLoggedIn$.pipe(f(1),h(i=>i?this.isSubscribed$.pipe(f(1),b(m=>{m?this.route.navigate(["/movie/watch/",s]):this.openSubscriptionPopup()})):(this.openLoginPopup(),_))).subscribe()}openLoginPopup(){this.store.dispatch(V())}openSubscriptionPopup(){this.store.dispatch(W())}};o.\u0275fac=function(i){return new(i||o)(u(A),u(z))},o.\u0275cmp=M({type:o,selectors:[["app-details-movie-page"]],standalone:!0,features:[R],decls:5,vars:4,consts:[["loading",""],[1,"page-wrapper"],[4,"ngIf","ngIfElse"],[1,"movie-details-page"],[1,"movie-image"],[3,"src","alt"],[1,"movie-info"],[1,"page-title"],["label","Watch",3,"click","disabled"]],template:function(i,m){if(i&1&&(n(0,"div",1),v(1,J,26,12,"ng-container",2),d(2,"async"),v(3,K,2,0,"ng-template",null,0,$),e()),i&2){let H=D(4);a(),l("ngIf",g(2,2,m.movie$))("ngIfElse",H)}},dependencies:[j,B,T,G,q,Y],styles:[".page-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:2rem;background-color:#121212;color:#f5f5f5;min-height:100vh;border-radius:5%;margin-top:.25rem}.movie-details-page[_ngcontent-%COMP%]{display:flex;gap:2rem;background-color:#1e1e1e;padding:2rem;border-radius:12px;box-shadow:0 4px 20px #0009;max-width:1000px;width:100%;transition:all .3s ease}@media (max-width: 768px){.movie-details-page[_ngcontent-%COMP%]{flex-direction:column;padding:1rem;gap:1rem}}.movie-image[_ngcontent-%COMP%]{flex:0 0 40%;border-radius:8px;overflow:hidden}.movie-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;display:block;border-radius:8px;object-fit:cover}@media (max-width: 768px){.movie-image[_ngcontent-%COMP%]{flex:1 0 auto}}.movie-info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:.5rem;font-size:1.125rem;color:#e0e0e0}.movie-info[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:.5rem;color:#fff}@media (max-width: 768px){.movie-info[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:1.5rem}}.movie-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.5}.movie-info[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]{align-self:flex-start;margin-top:1rem}.movie-info[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]     .p-button{background-color:#42a5f5!important;border:none!important}.movie-info[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]     .p-button:disabled{background-color:#555!important;cursor:not-allowed;opacity:.6}"],changeDetection:0});let p=o;return p})();export{me as DetailsMoviePageComponent};
