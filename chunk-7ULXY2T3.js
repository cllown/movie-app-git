import{a as j}from"./chunk-3MG4YANK.js";import"./chunk-FPMJH6UZ.js";import{b as F}from"./chunk-4R57AC2K.js";import"./chunk-2B4JOGA3.js";import{Bb as w,Cb as O,Cc as D,Fa as v,G as M,Ga as m,Ha as u,Ia as C,Ja as y,T as _,Wa as x,Xa as g,cb as S,ec as A,k as d,kb as I,la as a,lb as P,ma as l,n as s,nb as b,nc as $,o as f,w as h,wa as p,ya as c,yb as E}from"./chunk-W7SHUFBV.js";function T(i,t){if(i&1&&(C(0),u(1,"app-movie-list",4),y()),i&2){let L=t.ngIf;a(),c("movies",L)}}function R(i,t){i&1&&(v(0,"p"),g(1,"Loading..."),m())}var U=(()=>{let t=class t{constructor(n,o){this.store=n,this.movieService=o}ngOnInit(){let n=this.store.select(D),o=this.store.select($);this.allMovies$=f([n,o]).pipe(s(([e,r])=>e&&e.length>0?e:r)),this.recommendationMovies$=this.movieService.getFavouriteMovies().pipe(h(1),s(e=>e.map(r=>r.id)),M(e=>e.length===0?d([]):this.movieService.getSmartRecommendations(e)))}};t.\u0275fac=function(o){return new(o||t)(l(A),l(F))},t.\u0275cmp=_({type:t,selectors:[["app-all-movies-page"]],standalone:!0,features:[S],decls:7,vars:4,consts:[["loading",""],[1,"page-wrapper"],[1,"page-title"],[4,"ngIf","ngIfElse"],[3,"movies"]],template:function(o,e){if(o&1&&(v(0,"div",1)(1,"h2",2),g(2,"All movies"),m(),p(3,T,2,1,"ng-container",3),I(4,"async"),p(5,R,2,0,"ng-template",null,0,b),m()),o&2){let r=x(6);a(3),c("ngIf",P(4,2,e.allMovies$))("ngIfElse",r)}},dependencies:[j,O,E,w],styles:[".all-movies__items.items-movies[_ngcontent-%COMP%]{display:flex;overflow-x:auto;overflow-y:hidden;padding-bottom:1rem;margin-bottom:2rem;gap:1.25rem;scroll-snap-type:x mandatory}.all-movies__items.items-movies[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 12rem;scroll-snap-align:start;box-sizing:border-box}.all-movies__items.items-movies[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}"],changeDetection:0});let i=t;return i})();export{U as AllMoviesPageComponent};
