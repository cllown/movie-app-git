import{Ab as e,Bb as P,Cb as I,Db as y,De as V,Fb as E,Gb as S,Hb as v,I as u,Kb as w,Mc as R,Pc as B,Qb as O,Qc as $,Rb as t,Sb as D,Sd as T,Tb as m,Wd as j,Ya as C,Yb as k,Z as x,ab as a,bb as M,ec as c,ef as W,fc as d,ff as F,gd as A,gf as N,hc as L,oa as _,qb as f,sb as s,ya as h,ye as z,za as b,zb as i}from"./chunk-KRBZQK4J.js";function q(p,n){if(p&1){let o=E();I(0),i(1,"div",3)(2,"div",4),P(3,"img",5),e(),i(4,"div",6)(5,"h2",7),t(6),e(),i(7,"p")(8,"strong"),t(9,"Release Date:"),e(),t(10),e(),i(11,"p")(12,"strong"),t(13,"Rating:"),e(),t(14),c(15,"ratingRounding"),e(),i(16,"p")(17,"strong"),t(18,"Description:"),e(),t(19),e(),i(20,"p")(21,"strong"),t(22,"Original Language:"),e(),t(23),e(),i(24,"p-button",8),c(25,"async"),S("click",function(){let r=h(o).ngIf,g=v();return b(g.onWatch(r.id))}),e()()(),y()}if(p&2){let o=n.ngIf,l=v();a(3),w("alt",o.title),s("src","https://image.tmdb.org/t/p/w500"+o.backdrop_path,C),a(3),D(o.title),a(4),m(" ",o.release_date,""),a(4),m(" ",d(15,8,o.vote_average),""),a(5),m(" ",o.overview,""),a(4),m(" ",o.original_language,""),a(),s("disabled",!d(25,10,l.isLoggedIn$))}}function G(p,n){p&1&&(i(0,"p"),t(1,"Loading..."),e())}var oe=(()=>{let n=class n{constructor(l){this.store=l}ngOnInit(){this.isLoggedIn$=this.store.select(V),this.movie$=this.store.select(z)}onWatch(l){this.isLoggedIn$.pipe(u(1),x(r=>{r?r&&this.openSubscriptionPopup():this.openLoginPopup()})).subscribe()}openLoginPopup(){this.store.dispatch(T())}openSubscriptionPopup(){this.store.dispatch(j())}};n.\u0275fac=function(r){return new(r||n)(M(A))},n.\u0275cmp=_({type:n,selectors:[["app-details-movie-page"]],standalone:!0,features:[k],decls:5,vars:4,consts:[["loading",""],[1,"page-wrapper"],[4,"ngIf","ngIfElse"],[1,"movie-details-page"],[1,"movie-image"],[3,"src","alt"],[1,"movie-info"],[1,"page-title"],["label","Watch",3,"click","disabled"]],template:function(r,g){if(r&1&&(i(0,"div",1),f(1,q,26,12,"ng-container",2),c(2,"async"),f(3,G,2,0,"ng-template",null,0,L),e()),r&2){let U=O(4);a(),s("ngIf",d(2,2,g.movie$))("ngIfElse",U)}},dependencies:[$,R,B,N,F,W],styles:[".page-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:2rem;background-color:#121212;color:#f5f5f5;min-height:100vh;border-radius:5%;margin-top:.25rem}.movie-details-page[_ngcontent-%COMP%]{display:flex;gap:2rem;background-color:#1e1e1e;padding:2rem;border-radius:12px;box-shadow:0 4px 20px #0009;max-width:1000px;width:100%}.movie-image[_ngcontent-%COMP%]{flex:0 0 40%;border-radius:8px;overflow:hidden}.movie-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;display:block;border-radius:8px;object-fit:cover}.movie-info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:.25rem;font-size:1.125rem;color:#e0e0e0}.movie-info[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:.25rem;color:#fff}.movie-info[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]{align-self:flex-start;margin-top:.25rem}"],changeDetection:0});let p=n;return p})();export{oe as DetailsMoviePageComponent};
