import{Da as N,Ea as U,Fa as q,J as T,N as z}from"./chunk-LG7EKJLH.js";import{$ as C,Bb as $,Cb as B,Fa as n,Ga as e,Ha as M,I as h,Ia as P,Ja as S,La as y,Ma as E,Na as v,Ob as j,Qa as w,T as _,Wa as O,Xa as t,Ya as D,Za as l,_ as b,cb as L,ec as A,ia as I,kb as c,la as a,lb as d,ma as f,nb as k,oc as V,tc as W,uc as F,w as x,wa as u,ya as m,yb as R}from"./chunk-625T36XV.js";function H(p,o){if(p&1){let r=y();P(0),n(1,"div",3)(2,"div",4),M(3,"img",5),e(),n(4,"div",6)(5,"h2",7),t(6),e(),n(7,"p")(8,"strong"),t(9,"Release Date:"),e(),t(10),e(),n(11,"p")(12,"strong"),t(13,"Rating:"),e(),t(14),c(15,"ratingRounding"),e(),n(16,"p")(17,"strong"),t(18,"Description:"),e(),t(19),e(),n(20,"p")(21,"strong"),t(22,"Original Language:"),e(),t(23),e(),n(24,"p-button",8),c(25,"async"),E("click",function(){let i=b(r).ngIf,g=v();return C(g.onWatch(i.id))}),e()()(),S()}if(p&2){let r=o.ngIf,s=v();a(3),w("alt",r.title),m("src","https://image.tmdb.org/t/p/w500"+r.backdrop_path,I),a(3),D(r.title),a(4),l(" ",r.release_date,""),a(4),l(" ",d(15,8,r.vote_average),""),a(5),l(" ",r.overview,""),a(4),l(" ",r.original_language,""),a(),m("disabled",!d(25,10,s.isLoggedIn$))}}function J(p,o){p&1&&(n(0,"p"),t(1,"Loading..."),e())}var pe=(()=>{let o=class o{constructor(s,i){this.store=s,this.route=i}ngOnInit(){this.isLoggedIn$=this.store.select(W),this.movie$=this.store.select(V),this.isSubscribed$=this.store.select(F)}onWatch(s){this.isLoggedIn$.pipe(x(1),h(i=>{i?this.isSubscribed$?this.route.navigate(["/movie/watch/",s]):this.openSubscriptionPopup():this.openLoginPopup()})).subscribe()}openLoginPopup(){this.store.dispatch(T())}openSubscriptionPopup(){this.store.dispatch(z())}};o.\u0275fac=function(i){return new(i||o)(f(A),f(j))},o.\u0275cmp=_({type:o,selectors:[["app-details-movie-page"]],standalone:!0,features:[L],decls:5,vars:4,consts:[["loading",""],[1,"page-wrapper"],[4,"ngIf","ngIfElse"],[1,"movie-details-page"],[1,"movie-image"],[3,"src","alt"],[1,"movie-info"],[1,"page-title"],["label","Watch",3,"click","disabled"]],template:function(i,g){if(i&1&&(n(0,"div",1),u(1,H,26,12,"ng-container",2),c(2,"async"),u(3,J,2,0,"ng-template",null,0,k),e()),i&2){let G=O(4);a(),m("ngIf",d(2,2,g.movie$))("ngIfElse",G)}},dependencies:[B,R,$,q,U,N],styles:[".page-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:2rem;background-color:#121212;color:#f5f5f5;min-height:100vh;border-radius:5%;margin-top:.25rem}.movie-details-page[_ngcontent-%COMP%]{display:flex;gap:2rem;background-color:#1e1e1e;padding:2rem;border-radius:12px;box-shadow:0 4px 20px #0009;max-width:1000px;width:100%}.movie-image[_ngcontent-%COMP%]{flex:0 0 40%;border-radius:8px;overflow:hidden}.movie-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;display:block;border-radius:8px;object-fit:cover}.movie-info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:.25rem;font-size:1.125rem;color:#e0e0e0}.movie-info[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:.25rem;color:#fff}.movie-info[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]{align-self:flex-start;margin-top:.25rem}"],changeDetection:0});let p=o;return p})();export{pe as DetailsMoviePageComponent};
