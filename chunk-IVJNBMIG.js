import{b as S}from"./chunk-4R57AC2K.js";import{Cb as x,Fa as s,Ga as l,Ha as d,Lb as C,Mb as M,Na as f,T as c,Wa as v,Xa as h,cb as g,ja as m,la as u,ma as n,nb as I,wa as p,ya as a,yb as T}from"./chunk-W7SHUFBV.js";function U(t,i){if(t&1&&(s(0,"div"),d(1,"iframe",2),l()),t&2){let w=f();u(),a("src",w.videoUrl,m)}}function _(t,i){t&1&&(s(0,"p"),h(1,"\u0424\u0438\u043B\u044C\u043C \u043D\u0435\u0434\u043E\u0441\u0442\u0443\u043F\u0435\u043D."),l())}var F=(()=>{let i=class i{constructor(r,e,o){this.route=r,this.movieService=e,this.sanitizer=o,this.videoUrl=null}ngOnInit(){let r=this.route.snapshot.paramMap.get("id");r&&this.loadTrailer(+r)}loadTrailer(r){this.movieService.getMovieTrailer(r).subscribe(e=>{if(e){let o=`https://www.youtube.com/embed/${e}`;this.videoUrl=this.sanitizer.bypassSecurityTrustResourceUrl(o)}else this.videoUrl=null})}};i.\u0275fac=function(e){return new(e||i)(n(M),n(S),n(C))},i.\u0275cmp=c({type:i,selectors:[["app-watch-movie-page"]],standalone:!0,features:[g],decls:3,vars:2,consts:[["noTrailer",""],[4,"ngIf","ngIfElse"],["width","100%","height","600","frameborder","0","allowfullscreen","",3,"src"]],template:function(e,o){if(e&1&&p(0,U,2,1,"div",1)(1,_,2,0,"ng-template",null,0,I),e&2){let y=v(2);a("ngIf",o.videoUrl)("ngIfElse",y)}},dependencies:[x,T]});let t=i;return t})();export{F as WatchMoviePageComponent};
